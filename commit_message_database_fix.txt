fix: ğŸ”§ Resolver problema de colunas faltantes - Tenant Service 100% funcional

âœ… PROBLEMA RESOLVIDO PERMANENTEMENTE:
- Tenant Service estava falhando por colunas inexistentes na tabela tenants
- Error: relation "legal_name" does not exist (e outras colunas)

ğŸ”§ CORREÃ‡Ã•ES IMPLEMENTADAS:
- Ajustado estrutura da tabela tenants para compatibilidade com domain model
- Adicionadas colunas: legal_name, document, website, status, plan_type, owner_user_id, settings, activated_at, suspended_at
- Removidas colunas desnecessÃ¡rias: cnpj, plan, is_active (migradas para novas)
- Adicionados constraints: status_check, plan_type_check, email_valid
- Criados Ã­ndices de performance: document, owner_user_id, status, plan_type, created_at

ğŸ“‹ SCRIPT DE PREVENÃ‡ÃƒO:
- Criado scripts/setup-staging-database.sh para executar todas as migrations
- Script executa migrations de todos os serviÃ§os automaticamente
- Evita problemas futuros de colunas faltantes

ğŸ“ DOCUMENTAÃ‡ÃƒO ATUALIZADA:
- CLAUDE.md: Processo obrigatÃ³rio de execuÃ§Ã£o de migrations
- InstruÃ§Ãµes claras para evitar este problema no futuro
- Comandos de teste incluÃ­dos no script

ğŸ§ª TESTES CONFIRMADOS:
- âœ… Auth Service: Login funcionando (admin@silvaassociados.com.br)
- âœ… Tenant Service: Dados retornando (Silva & Associados)
- âœ… Frontend: Health check OK
- âœ… Database: Estrutura correta e dados Ã­ntegros

ğŸ¯ RESULTADO:
Sistema 100% operacional no GCP staging. Problema estrutural resolvido permanentemente.
UsuÃ¡rios podem fazer login normalmente em https://35.188.198.87

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>